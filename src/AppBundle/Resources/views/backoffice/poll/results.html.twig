{% extends "::backoffice_base.html.twig" %}

{% block bodyclass %}app header-fixed sidebar-fixed aside-menu-fixed aside-menu-hidden{% endblock %}

{% block main %}
    <div id="app">
        <div class="row">
            <div class="col-12">
                <h1 class="text-center">{{ poll.title }}</h1>
            </div>
        </div>
        {% for chart in charts %}
            <div class="row">
                <div class="col-12">
                    <h2 class="text-center">{{ chart.question.qTitle }}</h2>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-5" style="padding-right: 20px">
                    <table class="table table-bordered table-striped table-condensed">
                        <thead>
                        <tr>
                            <th></th>
                            <th>Proposition</th>
                            <th>Quantit√©</th>
                        </tr>
                        </thead>
                        <tbody class="chart-legend-{{ chart.chart.id }}">
                        </tbody>
                    </table>
                </div>
                <div class="col-3">
                    {{ chartjs_render_html(chart.chart) }}
                </div>
            </div>
        {% endfor %}
    </div>

    {% block javascripts %}
        <!-- ChartJSStart -->
        <script src="{{ asset('CoreUI/bower_components/jquery/dist/jquery.min.js') }}"></script>
        <script src="{{ asset('CoreUI/bower_components/chart.js/dist/Chart.min.js') }}"></script>
        <script>
            //            Chart.defaults.global.animation.duration = 0;
            {% for chart in charts %}
                {{ chartjs_render_js(chart.chart) }}
            {% endfor %}
        </script>
        <!-- ChartJSEnd -->
    {% endblock %}
{% endblock %}
